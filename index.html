<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>APA Checklist</title>

<style>
:root{
  --bg:#f5f5f5;
  --card:#ffffff;
  --border:#e3e3e3;
  --text:#222;
  --muted:#666;
  --accent:#6b6b6b;
  --radius:14px;
}

*{box-sizing:border-box;}

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--bg);
  padding:10px;
}

.widget{
  max-width:380px;
  margin:auto;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:0 4px 14px rgba(0,0,0,0.05);
  overflow:hidden;
}

header{
  padding:12px;
  border-bottom:1px solid var(--border);
}

h1{
  font-size:14px;
  margin:0;
  font-weight:600;
}

.progressWrap{
  padding:8px 12px 0 12px;
}

.progressText{
  font-size:11px;
  color:var(--muted);
  display:flex;
  justify-content:space-between;
  margin-bottom:6px;
}

.bar{
  height:6px;
  background:#ececec;
  border-radius:999px;
  overflow:hidden;
}

.fill{
  height:100%;
  width:0%;
  background:var(--accent);
  transition:width .2s ease;
}

.list{
  padding:8px 8px 12px 8px;
  display:flex;
  flex-direction:column;
  gap:10px;
}

.groupTitle{
  font-size:11px;
  font-weight:600;
  color:var(--muted);
  margin:6px 4px 0 4px;
  text-transform:uppercase;
  letter-spacing:.5px;
}

.item{
  display:flex;
  align-items:flex-start;
  gap:8px;
  padding:6px 6px;
  border-radius:8px;
  cursor:pointer;
}

.item:hover{
  background:#f3f3f3;
}

input[type="checkbox"]{
  width:14px;
  height:14px;
  accent-color:#444;
  margin-top:2px;
}

.label{
  font-size:12px;
  line-height:1.3;
  color:var(--text);
}

.checked .label{
  text-decoration:line-through;
  color:#999;
}

footer{
  border-top:1px solid var(--border);
  padding:8px 12px;
  text-align:right;
}

button{
  font-size:11px;
  border:none;
  background:none;
  color:var(--muted);
  cursor:pointer;
}
button:hover{color:#000;}
</style>
</head>

<body>
<div class="widget">
<header>
  <h1>APA 7 Submission Checklist</h1>
</header>

<div class="progressWrap">
  <div class="progressText">
    <span id="percent">0%</span>
    <span id="count">0/0</span>
  </div>
  <div class="bar"><div class="fill" id="fill"></div></div>
</div>

<div class="list" id="checklist"></div>

<footer>
  <button onclick="resetList()">Reset</button>
</footer>
</div>

<script>
const DATA = [
{group:"Formatting",items:[
"A4, 2.54 cm margins",
"Double-spaced, left-aligned",
"Page numbers top right",
"Approved font (e.g. Times New Roman 12)",
"0.5 inch paragraph indents",
"No running head"
]},
{group:"Title Page",items:[
"Title bold + centred",
"Name, university, course code/name",
"Instructor name",
"Due date (Day Month Year)"
]},
{group:"Headings & Structure",items:[
"APA heading levels used correctly",
"No heading called 'Introduction'",
"Paragraphs linked to question"
]},
{group:"In-Text Citations",items:[
"All claims cited (author + year)",
"Quotes include page numbers",
"Correct use of et al.",
"Every reference cited in text"
]},
{group:"Reference List",items:[
"'References' bold + centred",
"Alphabetical order",
"Hanging indents",
"Double-spaced",
"DOI/URL included",
"Journal titles + volume italicised"
]},
{group:"Stats (if relevant)",items:[
"p, M, SD, t, F italicised",
"Variables named consistently",
"Ethics mentioned if required"
]}
];

const STORAGE="apa_widget_v1";
const container=document.getElementById("checklist");
const fill=document.getElementById("fill");
const percent=document.getElementById("percent");
const count=document.getElementById("count");

function load(){return JSON.parse(localStorage.getItem(STORAGE)||"{}");}
function save(s){localStorage.setItem(STORAGE,JSON.stringify(s));}

function render(){
  const state=load();
  container.innerHTML="";
  let total=0,done=0;

  DATA.forEach((g,gi)=>{
    const title=document.createElement("div");
    title.className="groupTitle";
    title.textContent=g.group;
    container.appendChild(title);

    g.items.forEach((item,ii)=>{
      total++;
      const id=`${gi}-${ii}`;
      if(state[id]) done++;

      const label=document.createElement("label");
      label.className="item";
      if(state[id]) label.classList.add("checked");

      const cb=document.createElement("input");
      cb.type="checkbox";
      cb.checked=!!state[id];

      cb.onchange=()=>{
        const s=load();
        s[id]=cb.checked;
        save(s);
        render();
      };

      const span=document.createElement("div");
      span.className="label";
      span.textContent=item;

      label.appendChild(cb);
      label.appendChild(span);
      container.appendChild(label);
    });
  });

  const pct=total?Math.round((done/total)*100):0;
  fill.style.width=pct+"%";
  percent.textContent=pct+"%";
  count.textContent=done+"/"+total;
}

function resetList(){
  localStorage.removeItem(STORAGE);
  render();
}

render();
</script>
</body>
</html>
